!function(n,t,i){"use strict";var r=function(t,i){this.$element=n(t),this.options=i,this.glassOverlay=n('<div class="'+this.options.glassClass+'" />'),this.layers=[],this.init()};r.prototype={constructor:r,init:function(){this.type="layers",this.activate()},glass:function(t){var i=this.$element.children(".layers.glass").length>0;t||!i?n(this.glassOverlay).css({"background-color":"transparent",height:"100%",width:"100%",position:"absolute",top:"0px",left:"0px"}).on("click."+this.type+".glass",function(n){n.stopPropagation()}).appendTo(this.$element):n(this.glassOverlay).remove()},activate:function(){var t=this;n.each(this.options.layers,function(n,i){t.addLayer(n,i)})},destroy:function(){var n=this;n.$element.off("."+this.type).removeData(this.type).find("."+n.options.identifier).remove()},addLayer:function(n,t){var r=this;r.layers[n]===i&&(r.options.layers[n]=t),r.enableLayer(n)},enableLayer:function(t){var i=this;n.each(this.options.layers[t],function(r,u){if(u.data=u.data?u.data:"",u.handler&&n.isFunction(u.handler))if(i.layers[t])console.log(t+" has already been added.");else{i.layers[t]=!0;i.$element.on(r+"."+i.type+"."+t,u.data,u.handler)}})},disableLayer:function(n){this.layers[n]=!1,this.$element.off("."+this.type+"."+n)},disableEvent:function(n,t){n=t?n+"."+this.type+"."+t:n+"."+this.type,this.$element.off(n)}},n.fn.layers=function(t,i){return typeof arguments[0]=="string"&&(i=Array.prototype.slice.call(arguments),i.splice(0,1)),this.each(function(){var f=n(this),u=f.data("layers"),e=n.extend({},n.fn.layers.defaults,f.data(),typeof t=="object"&&t);i&&console.log("we have args"),u||f.data("layers",u=new r(this,e)),typeof t=="string"&&(i?u[t].apply(u,i):u[t]())})},n.fn.layers.defaults={layers:{},glassClass:"layers glass",identifier:"layers",callback:function(){}},n.fn.layers.Constructor=r,n.fn.layers.noConflict=function(){return n.fn.layers=old,this}}(window.jQuery,window)