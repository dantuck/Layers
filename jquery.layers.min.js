!function(n,t,i){"use strict";var r=function(t,i){this.$element=n(t),this.options=i,this.glassOverlay=n('<div class="'+this.options.identifier+" "+this.options.glassClass+'" />'),this.layers=[],this.init()};r.prototype={constructor:r,init:function(){this.type="layers",this.activate()},glass:function(){var i=this.$element.children("."+this.options.identifier+"."+this.options.glassClass).length>0;i?n(this.glassOverlay).remove():n(this.glassOverlay).css({"background-color":"transparent",height:"100%",width:"100%",position:"absolute",top:"0px",left:"0px"}).on("click."+this.type+".glass",function(n){n.stopPropagation()}).appendTo(this.$element)},activate:function(){var t=this;n.each(this.options.layers,function(n,i){t.add(n,i)})},destroy:function(){var n=this;n.$element.off("."+this.type).removeData(this.type).find("."+n.options.identifier).remove()},add:function(n,t){var r=this;r.layers[n]===i&&(r.options.layers[n]=t),n.toLowerCase()!=="glass"&&r.toggle(n)},remove:function(n){this.toggle(n),delete this.layers[n],delete this.options.layers[n]},toggle:function(t){var i=this;t.toLowerCase()!=="glass"&&(i.layers[t]?(i.layers[t]=!1,i.$element.off("."+this.type+"."+t)):n.each(this.options.layers[t],function(r,u){if(u.data=u.data?u.data:"",u.handler&&n.isFunction(u.handler)){i.layers[t]=!0;i.$element.on(r+"."+i.type+"."+t,u.data,u.handler)}}))},disableEvent:function(n,t){n=t?n+"."+this.type+"."+t:n+"."+this.type,this.$element.off(n)}},n.fn.layers=function(t,i){return typeof arguments[0]=="string"&&(i=Array.prototype.slice.call(arguments),i.splice(0,1)),this.each(function(){var f=n(this),u=f.data("layers"),e=n.extend({},n.fn.layers.defaults,f.data(),typeof t=="object"&&t);u||f.data("layers",u=new r(this,e)),typeof t=="string"&&(i?u[t].apply(u,i):u[t]())})},n.fn.layers.defaults={layers:{},glassClass:"glass",identifier:"layers",callback:function(){}},n.fn.layers.Constructor=r,n.fn.layers.noConflict=function(){return n.fn.layers=old,this}}(window.jQuery,window)